webpackJsonp([39],{"0xDb":function(e,n,t){"use strict";n.b=function(e,n){e=1e3*+e;var t=new Date(e),o=(Date.now()-t)/1e3;if(o<30)return"刚刚";if(o<3600)return Math.ceil(o/60)+"分钟前";if(o<86400)return Math.ceil(o/3600)+"小时前";if(o<172800)return"1天前";return n?function(e,n){if(0===arguments.length)return null;var t=n||"{y}-{m}-{d} {h}:{i}:{s}",o=void 0;"object"===(void 0===e?"undefined":a()(e))?o=e:(10===(""+e).length&&(e=1e3*parseInt(e)),o=new Date(e));var r={y:o.getFullYear(),m:o.getMonth()+1,d:o.getDate(),h:o.getHours(),i:o.getMinutes(),s:o.getSeconds(),a:o.getDay()};return t.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,n){var t=r[n];return"a"===n?["一","二","三","四","五","六","日"][t-1]:(e.length>0&&t<10&&(t="0"+t),t||0)})}(e,n):t.getMonth()+1+"月"+t.getDate()+"日"+t.getHours()+"时"+t.getMinutes()+"分"},n.c=function(e){var n=e.split("?")[1];if(!n)return{};return JSON.parse('{"'+decodeURIComponent(n).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')},n.a=function(e,n,t){var o=void 0,r=void 0,a=void 0,i=void 0,c=void 0,u=function u(){var s=+new Date-i;s<n&&s>0?o=setTimeout(u,n-s):(o=null,t||(c=e.apply(a,r),o||(a=r=null)))};return function(){for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];a=this,i=+new Date;var d=t&&!o;return o||(o=setTimeout(u,n)),d&&(c=e.apply(a,s),a=s=null),c}};var o=t("fZjL"),r=(t.n(o),t("pFYg")),a=t.n(r)},"991W":function(e,n){},A66B:function(e,n,t){e.exports=function(e){return function(){return t("Opzk")("./"+e+".vue")}}},CuoL:function(e,n){},E4d3:function(e,n,t){var o={"./Aside":["lo56",3],"./Aside/":["lo56",3],"./Aside/index":["lo56",3],"./Aside/index.vue":["lo56",3],"./BackToTop":["1n3Z",1],"./BackToTop/":["1n3Z",1],"./BackToTop/index":["1n3Z",1],"./BackToTop/index.vue":["1n3Z",1],"./Breadcrumb":["UqIz",0,8],"./Breadcrumb/":["UqIz",0,8],"./Breadcrumb/index":["UqIz",0,8],"./Breadcrumb/index.vue":["UqIz",0,8],"./CountTo":["y3cT",9],"./CountTo/":["y3cT",9],"./CountTo/index":["y3cT",9],"./CountTo/index.vue":["y3cT",9],"./ErrorLog":["K34d",7],"./ErrorLog/":["K34d",7],"./ErrorLog/error_info":["w4ZJ",14],"./ErrorLog/error_info.vue":["w4ZJ",14],"./ErrorLog/index":["K34d",7],"./ErrorLog/index.vue":["K34d",7],"./ExportExcel/Blob":["SnDi",15],"./ExportExcel/Blob.js":["SnDi",15],"./ExportExcel/Export2Excel":["cXww",0,11],"./ExportExcel/Export2Excel.js":["cXww",0,11],"./ExportExcel/Export2Zip":["Qdit",12,0],"./ExportExcel/Export2Zip.js":["Qdit",12,0],"./Hamburger":["dahE",0],"./Hamburger/":["dahE",0],"./Hamburger/index":["dahE",0],"./Hamburger/index.vue":["dahE",0],"./Loading":["0EwI",5],"./Loading/":["0EwI",5],"./Loading/index":["0EwI",5],"./Loading/index.vue":["0EwI",5],"./Screenfull":["k0sJ",2],"./Screenfull/":["k0sJ",2],"./Screenfull/index":["k0sJ",2],"./Screenfull/index.vue":["k0sJ",2],"./ScrollBar":["gzxC",0],"./ScrollBar/":["gzxC",0],"./ScrollBar/index":["gzxC",0],"./ScrollBar/index.vue":["gzxC",0],"./ScrollPane":["sUix",4],"./ScrollPane/":["sUix",4],"./ScrollPane/index":["sUix",4],"./ScrollPane/index.vue":["sUix",4],"./Sticky":["vHhr",10],"./Sticky/":["vHhr",10],"./Sticky/index":["vHhr",10],"./Sticky/index.vue":["vHhr",10],"./ThemePicker":["dMNq",0,6],"./ThemePicker/":["dMNq",0,6],"./ThemePicker/index":["dMNq",0,6],"./ThemePicker/index.vue":["dMNq",0,6]};function r(e){var n=o[e];return n?Promise.all(n.slice(1).map(t.e)).then(function(){return t(n[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}r.keys=function(){return Object.keys(o)},r.id="E4d3",e.exports=r},IcnI:function(e,n,t){"use strict";var o=t("//Fk"),r=t.n(o),a=t("7+uW"),i=t("NYxO"),c=t("vLgD");var u=t("TuU3");a.default.use(i.a);var s={login_out:function(e){e.user="",u.a.removeToken()},set_user:function(e,n){e.user=n},set_role:function(e,n){e.user.role=n},set_logs:function(e,n){e.logs.push(n)},set_theme:function(e,n){e.theme=n},toggle_sidebar:function(e){e.sidebar.opened=!e.sidebar.opened}},l={get_login_data:function(e,n){var t=e.commit;return new r.a(function(e,o){var r;(r=n,Object(c.b)("/login","POST",r)).then(function(n){n&&n.token?(u.a.setToken(n.token),t("set_role",n.data),e(n)):o(new Error("暂无登录数据！"))}).catch(function(e){o(e)})})},get_user_data:function(e,n){var t=e.commit;return new r.a(function(e,o){(function(e){return Object(c.b)("/user/info","get",e)})(n).then(function(n){n&&200===n.code&&n.data?(t("set_user",n.data),e(n.data)):o(new Error("nothing user data"))}).catch(function(e){o(e)})})},ToggleSideBar:function(e){(0,e.commit)("toggle_sidebar")}};n.a=new i.a.Store({state:{user:"",logs:[],theme:"#42B983",sidebar:{opened:!0}},getters:{token:function(e){return e.user.token},role:function(e){return e.user.role},name:function(e){return e.user.name},sidebar:function(e){return e.sidebar}},mutations:s,actions:l})},KsN1:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={name:"menuItem",props:{json:Array}},r={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"menuItem"},[e._l(e.json,function(n,o){return[n.children?t("el-submenu",{key:o,attrs:{index:n.name}},[t("template",{slot:"title"},[n.icon?t("i",{class:n.icon}):e._e(),e._v(" "),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(n.name))])]),e._v(" "),e._l(n.children,function(n,o){return[n.children?t("wl-menu-item",{key:o,attrs:{json:[n]}}):t("router-link",{key:o,attrs:{to:{name:n.name}}},[t("el-menu-item",{attrs:{index:n.name}},[n.icon?t("i",{class:n.icon}):e._e(),e._v(e._s(n.name)+"\n                    ")])],1)]})],2):t("router-link",{key:o,attrs:{to:{name:n.name}}},[t("el-menu-item",{attrs:{index:n.name}},[n.icon?t("i",{class:n.icon}):e._e(),e._v(" "),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(n.name))])])],1)]})],2)},staticRenderFns:[]};var a=t("VU/8")(o,r,!1,function(e){t("CuoL")},null,null);n.default=a.exports},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={};t.d(o,"formatTime",function(){return B}),t.d(o,"getDiffTime",function(){return C}),t.d(o,"toThousand",function(){return z}),t.d(o,"toThousandFilter",function(){return H});var r=t("fZjL"),a=t.n(r),i=t("7+uW"),c={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"el-fade-in-linear",mode:"out-in"}},[n("router-view")],1),this._v(" "),n("vue-progress-bar")],1)},staticRenderFns:[]},u=t("VU/8")({name:"app",methods:{init_Progress:function(){var e=this;this.$router.beforeEach(function(n,t,o){e.$Progress.start(),o()}),this.$router.afterEach(function(n,t){e.$Progress.finish()})}},created:function(){this.$Progress.start(),this.init_Progress()},mounted:function(){this.$Progress.finish()}},c,!1,null,null,null).exports,s=t("YaEn"),l=t("IcnI"),d=t("TuU3"),m=t("mtWM"),p=t.n(m),f=t("zL8q"),h=t.n(f),g=t("zYko"),v=t.n(g),x=t("GoqX"),b=t.n(x),k=(t("tvR6"),t("SPU+"),t("991W"),t("UfKn"),this);s.a.beforeEach(function(e,n,t){function o(){t({path:"/login",query:{redirect:e.fullPath}})}function r(e,n){var o=!1;(!n||e.indexOf("admin")>-1)&&(o=!0),"string"==typeof n?e.indexOf(n)>-1&&(o=!0):Array.isArray(n)&&n.some(function(n){return e.indexOf(n)>-1})&&(o=!0),o?t():t("/401")}e.matched.some(function(e){return e.meta.login})?d.a.getToken()?"/login"===e.path?t("/"):l.a.state.user?r(l.a.state.user.role,e.meta.role):l.a.dispatch("get_user_data").then(function(n){r(n.role,e.meta.role)}).catch(function(e){k.$message.error("登录已失效，请重新登录"),o()}):o():t()}),i.default.config.errorHandler=function(e,n,t){l.a.commit("set_logs",{error:e,vm:n,info:t,url:window.location.href,time:new Date})};var w={"wl-breadcrumb":"Breadcrumb","wl-sticky":"Sticky","wl-back-top":"BackToTop","wl-count-to":"CountTo","wl-loading":"Loading"};a()(w).forEach(function(e){i.default.component(e,function(){return t("E4d3")("./"+w[e])})});for(var y=t("zNUS"),T=t.n(y),_=t("0xDb"),E=[],S=0;S<100;S++)E.push(T.a.mock({id:"@increment",name:T.a.Random.cname(),names:T.a.Random.cname(),addr:T.a.mock("@county(true)"),timestamp:+T.a.Random.date("T"),title:T.a.Random.ctitle(),forecast:"@float(0, 100, 2, 2)",importance:"@integer(1, 3)","type|1":["自主开发","自然到店","工地回单","广告推广","其它来源","蜂巢网","网销部转入","朋友介绍","电话营销","电话来源","电视广告","网络推广"],"rank|1":["中意向","高意向"],"status|1":["合同客户","见面客户","意向客户"],"moblie|1":["13531544954","13632250649","15820292420","15999905612"],display_time:"@datetime",pageviews:"@integer(300, 5000)"}));var P=function(e){var n=Object(_.c)(e.url),t=n.importance,o=n.type,r=n.title,a=n.page,i=void 0===a?1:a,c=n.limit,u=void 0===c?20:c,s=n.sort,l=E.filter(function(e){return(!t||e.importance===+t)&&((!o||e.type===o)&&!(r&&e.title.indexOf(r)<0))});"-id"===s&&(l=l.reverse());var d=l.filter(function(e,n){return n<u*i&&n>=u*(i-1)});return{total:l.length,items:d}},D=function(){return{pvData:[{key:"PC",pv:1024},{key:"mobile",pv:1024},{key:"ios",pv:1024},{key:"android",pv:1024}]}},I=function(){return{id:120000000001,author:{key:"mockAaron"},source_name:"原创作者",category_item:[{key:"global",name:"全球"}],comment_disabled:!0,content:'<p>我是测试数据我是测试数据</p><p><img class="wscnph" src="https://wpimg.wallstcn.com/4c69009c-0fd4-4153-b112-6cb53d1cf943" data-wscntype="image" data-wscnh="300" data-wscnw="400" data-mce-src="https://wpimg.wallstcn.com/4c69009c-0fd4-4153-b112-6cb53d1cf943"></p>"',content_short:"我是测试数据",display_time:+new Date,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"],status:"published",tags:[],title:"erp-admin"}},j=function(){return{data:"success"}},L=function(){return{data:"success"}};T.a.mock(/\/login/,{token:T.a.Random.guid()}),T.a.mock(/\/user\/info\.*/,{code:200,msg:"success",data:{nickname:"超哥哥",headimgurl:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif",role:"0"}}),T.a.mock(/\/customer\/list/,"get",P),T.a.mock(/\/customer\/detail/,"get",I),T.a.mock(/\/customer\/pv/,"get",D),T.a.mock(/\/customer\/create/,"post",j),T.a.mock(/\/customer\/update/,"post",L);T.a;var M=t("KsN1"),O=t("pFYg"),U=t.n(O);function B(e,n){if(0===arguments.length)return null;10===(e+"").length&&(e=1e3*+e);var t=n||"{y}-{m}-{d} {h}:{i}:{s}",o=void 0,r={y:(o="object"===(void 0===e?"undefined":U()(e))?e:new Date(parseInt(e))).getFullYear(),m:o.getMonth()+1,d:o.getDate(),h:o.getHours(),i:o.getMinutes(),s:o.getSeconds(),a:o.getDay()};return t.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,n){var t=r[n];return"a"===n?["一","二","三","四","五","六","日"][t-1]:(e.length>0&&t<10&&(t="0"+t),t||0)})}function C(e){var n=new Date(e),t=(Date.now()-n)/1e3;return t<30?"刚刚":t<3600?Math.ceil(t/60)+"分钟前":t<86400?Math.ceil(t/3600)+"小时前":t<172800?"1天前":n.getMonth()+1+"月"+n.getDate()+"日"+n.getHours()+"时"+n.getMinutes()+"分"}function z(e){return e>=1e4?(e/1e4).toFixed(1)+"万":e}function H(e){return(+e||0).toString().replace(/^-?\d+/g,function(e){return e.replace(/(?=(?!\b)(\d{3})+$)/g,",")})}i.default.component("wl-menu-item",M.default),i.default.config.productionTip=!1,i.default.prototype.$http=p.a,i.default.use(h.a,{size:"small"}),i.default.use(v.a,{color:"#29F",failedColor:"red",thickness:"2px"}),i.default.use(b.a),a()(o).forEach(function(e){i.default.filter(e,o[e])}),new i.default({el:"#app",router:s.a,store:l.a,render:function(e){return e(u)}})},Opzk:function(e,n,t){var o={"./404/404.vue":["23Cv",26],"./aside/index.vue":["8Uo4",22],"./ball/balls.vue":["RLK1",0],"./ball/cart.vue":["z+Og",0,37],"./ball/index.vue":["rSv8",0,25],"./ball/list.vue":["lw2A",36],"./form/form.vue":["/joN",0,19],"./form/preview.vue":["FRNf",28],"./form/selectPicture.vue":["xYSr",34],"./form/uploadPicture.vue":["4hqv",0,27],"./home/components/card.vue":["xViV",29],"./home/components/chart.vue":["K92U",17],"./home/components/todo.vue":["n3SW",32],"./home/index.vue":["KR8f",16],"./layout/index.vue":["6f/g",0,23],"./layout/menu.vue":["NccL",0,31],"./layout/menuItem.vue":["KsN1"],"./layout/page.vue":["zHeO",35],"./layout/view.vue":["J+X9",13],"./loadmore/index.vue":["NkOT",30],"./login/index.vue":["T+/8",0,33],"./table/index.vue":["YBQJ",0,20],"./table/table.vue":["GMSx",0,21],"./tree/index.vue":["TfcR",18],"./update/index.vue":["nKAQ",24]};function r(e){var n=o[e];return n?Promise.all(n.slice(1).map(t.e)).then(function(){return t(n[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}r.keys=function(){return Object.keys(o)},r.id="Opzk",e.exports=r},"SPU+":function(e,n){},TuU3:function(e,n,t){"use strict";var o=t("mvHQ"),r=t.n(o),a=t("lbHh"),i=t.n(a);n.a={getToken:function(){return i.a.get("token")},setToken:function(e){return i.a.set("token",e,{expires:7})},removeToken:function(){return i.a.remove("token")},getSession:function(e){if(e)return window.sessionStorage.getItem(e)},setSession:function(e,n){e&&("string"!=typeof n&&(n=r()(n)),window.sessionStorage.setItem(e,n))},removeSession:function(e){e&&window.sessionStorage.removeItem(e)},getLocal:function(e){if(e)return window.localStorage.getItem(e)},setLocal:function(e,n){e&&("string"!=typeof n&&(n=r()(n)),window.localStorage.setItem(e,n))},removeLocal:function(e){e&&window.localStorage.removeItem(e)}}},UfKn:function(e,n){},YaEn:function(e,n,t){"use strict";t.d(n,"b",function(){return c});var o=t("7+uW"),r=t("/ocq");o.default.use(r.a);var a=t("A66B"),i=function(){return t.e(13).then(t.bind(null,"J+X9"))},c=[{path:"/",redirect:"/index"},{name:"首页",path:"/index",redirect:"index/home/crm/b",meta:{login:!0},component:a("layout/index"),children:[{name:"营销",path:"home",icon:"i-icon-formdata",component:i,children:[{name:"CRM",path:"crm",icon:"i-icon-dashboard",component:i,children:[{name:"统计分析",path:"b",icon:"i-icon-echart",component:a("home/index")},{name:"客户管理",path:"a",icon:"i-icon-table",component:a("table/index")}]},{name:"公司相关",path:"plugins",icon:"i-icon-product",component:i,children:[{name:"公司介绍",path:"a",icon:"i-icon-home",component:a("aside/index")},{name:"设计团队",path:"b",icon:"i-icon-peoples",component:a("form/form")}]}]},{name:"客户",path:"customer",icon:"i-icon-people",component:i,children:[{name:"用户管理",path:"a",icon:"i-icon-home",component:a("loadmore/index")},{name:"客户相关",path:"b",icon:"i-icon-peoples",component:a("ball/index")}]},{name:"设计",path:"electric",icon:"i-icon-edit",component:i,children:[{name:"设计人员",path:"a",icon:"i-icon-home",component:a("table/index")}]},{name:"合同",path:"sms",component:i,children:[{name:"合同标题",path:"a",icon:"i-icon-home",component:a("table/index")}]},{name:"工程",path:"project",component:i,children:[{name:"工程标题",path:"a",icon:"i-icon-home",component:a("update/index")}]},{name:"材料",path:"material",component:i,children:[{name:"材料标题",path:"a",icon:"i-icon-home",component:a("update/index")}]},{name:"成控",path:"control",component:i,children:[{name:"成控标题",path:"a",icon:"i-icon-home",component:a("update/index")}]},{name:"报表",path:"excel",component:i,children:[{name:"报表标题",path:"a",icon:"i-icon-home",component:a("update/index")}]},{name:"设置",path:"setup",component:i,children:[{name:"设置标题",path:"a",icon:"i-icon-home",component:a("update/index")}]}]},{name:"login",path:"/login",component:a("login/index")},{path:"/404",component:a("404/404")},{path:"*",redirect:"/404"}];n.a=new r.a({mode:"history",scrollBehavior:function(){return{y:0}},routes:c})},tvR6:function(e,n){},vLgD:function(e,n,t){"use strict";t.d(n,"a",function(){return b}),t.d(n,"b",function(){return w});var o=t("Xxa5"),r=t.n(o),a=t("exGp"),i=t.n(a),c=t("//Fk"),u=t.n(c),s=t("woOf"),l=t.n(s),d=t("mtWM"),m=t.n(d),p=t("mw3O"),f=t.n(p),h=t("IcnI"),g=t("zL8q"),v=(t.n(g),t("TuU3")),x=this,b=m.a.create({baseURL:"https://api-prod",timeout:5e3});b.interceptors.request.use(function(e){h.a.getters.token&&(e.headers.auth_token=v.a.getToken()),e.headers={"Content-Type":"application/x-www-form-urlencoded"};var n={auth_token:v.a.getToken(),timestamp:Date.parse(new Date)/1e3,nonce:Math.random().toString(36).substr(2)};return l()(e.headers,n),e},function(e){console.log(e),u.a.reject(e)}),b.interceptors.response.use(function(e){var n=e.data;return n&&n.error?u.a.reject(n.error):e},function(e){return Object(g.Message)({message:e.message,type:"error",duration:5e3}),u.a.reject(e)});var k,w=(k=i()(r.a.mark(function e(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0,"GET"!==(o=o.toUpperCase())){e.next=7;break}return e.next=5,b.get(t,{params:a}).then(function(e){n=e.data});case 5:e.next=10;break;case 7:if("POST"!==o){e.next=10;break}return e.next=10,b.post(t,f.a.stringify(a)).then(function(e){n=e.data});case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}},e,x)})),function(){return k.apply(this,arguments)})}},["NHnr"]);